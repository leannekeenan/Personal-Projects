 
          /* --- ENHANCED CUSTOM CSS DEFINITIONS --- */
          @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&display=swap');

          /* GLOBAL STYLES & LAYOUT */

          body {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
          }
          .app-container {
              min-height: 100vh;
              background-image: url('./assets/Helm\ of\ Adoreon.png');
              background-repeat: no-repeat;
              background-size: cover;
              background-position: center;
              background-attachment: fixed;
              color: #cbc5d9;
              text-shadow: 1px 1px purple;
              font-family: sans-serif;
              display: flex;
              flex-direction: column;
              align-items: center;
              padding: 1rem;
              padding-bottom: 4rem;
          }
          
          .content-wrapper {
              width: 100%;
              max-width: 500px; 
              display: flex;
              flex-direction: column;
              align-items: center;
              margin-top: 2rem; 
              gap: 2rem; 
          }
          
          .font-title {
              font-family: 'Cinzel Decorative', cursive;
              text-transform: uppercase;
       
          }

          /* --- TITLES (e.g., H1, P) --- */
          .title-helm {
              font-size: 3rem; 
              font-weight: 900;
              text-align: center;
              line-height: 1.1; 
              color: #65329b; /* Lighter, more vibrant purple for title */
              -webkit-text-stroke: 1px rgb(224, 181, 243);
              text-shadow: -5px -5px 15px rgba(233, 213, 255, 0.8), 0 0 30px rgba(192, 132, 252, 0.6); 
          }
          @media (min-width: 768px) {
              .title-helm {
                  font-size: 4rem;
              }
          }
          .subtitle {
            font-size: 1.125rem;
            color: #d1d5db; /* Lighter gray for better contrast */
            font-style: italic;
            font-family: 'Cinzel Decorative', cursive;
          }

          /* --- STATUS PANEL & MESSAGING --- */

          .status-panel {
              width: 100%;
              background-color: #1f2937; 
              padding: 1rem;
              border-radius: 0.75rem;
              border-top: 4px solid #9333ea; 
              box-shadow: 0 0 15px rgba(0, 0, 0, 0.6), inset 0 0 8px rgba(0, 0, 0, 0.4);
          }

          /* Status Header */
          .status-panel p:first-child {
            font-size: 1.25rem;
            font-weight: 900; /* Made bolder */
            text-align: center;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
          }

          .status-header-normal {
              color: #c084fc; /* Vibrant purple for ACTIVE */
          }
          .status-header-flashing {
              color: #fca5a5; /* Light red for PENALTY */
          }
          .status-header-deactivated {
              color: #86efac; /* Light green for DEACTIVATED */
          }
          
          /* Status Message */
          .status-message {
            text-align: center;
            font-weight: 600;
          }

          /* Status Message Conditional Styling */
          .message-normal {
              color: #e9d5ff; /* Lighter purple message */
          }
          .message-flashing {
              color: #f87171; 
          }
          .message-deactivated {
              color: #4ade80; 
          }

          /* Status Message Glow (for win condition) */
          .message-glow {
              text-shadow: 0 0 10px #4ade80, 0 0 20px #4ade80; 
          }
          .stats-bar {
            display: flex;
            justify-content: space-around;
            margin-top: 1rem;
            font-size: 0.875rem;
            font-family: monospace;
          }

          /* --- BUTTONS (Non-tile interaction buttons) --- */

          .button-primary {
              background-color: #9333ea; 
              color: #ffffff;
              padding: 0.75rem 1.5rem;
              border-radius: 0.75rem;
              font-weight: 700;
              transition: all 300ms;
              box-shadow: 0 0 15px rgba(109, 40, 217, 0.7); /* Stronger glow */
              font-size: 1.25rem;
              font-family: 'Cinzel Decorative', cursive;
              text-transform: uppercase;
              margin-top: 1rem;
          }

          .button-primary:hover {
              background-color: #a855f7;
              transform: translateY(-2px);
              box-shadow: 0 10px 25px rgba(109, 40, 217, 0.9); 
          }

          .button-secondary {
              background-color: #b91c1c;
              color: #ffffff;
              padding: 0.75rem 2rem;
              border-radius: 0.75rem;
              font-weight: 700;
              transition: all 300ms;
              box-shadow: 0 0 15px rgba(185, 28, 28, 0.7); /* Stronger glow */
              font-size: 1.125rem;
              font-family: 'Cinzel Decorative', cursive;
              text-transform: uppercase;
              margin-top: 1.5rem;
          }

          .button-secondary:hover {
              background-color: #dc2626;
              box-shadow: 0 10px 25px rgba(185, 28, 28, 0.9);
          }

          /* --- TARGET INDICATORS (L U S T circles) --- */

          .target-indicators-wrapper {
            display: flex;
            justify-content: center;
            gap: 1rem;
          }
          .target-indicator {
              width: 3rem;
              height: 3rem;
              display: flex;
              align-items: center;
              justify-content: center;
              border-radius: 9999px;
              border: 4px solid #c084fc; /* Brighter purple border */
              background-color: #312e81;
              font-size: 1.5rem;
              font-weight: 700;
              color: #ffffff;
              transition: all 300ms;
              box-shadow: 0 0 8px rgba(192, 132, 252, 0.5); /* Added glow */
          }


          /* --- GRID CONTAINER AND TILE STYLES (The Puzzle Itself) --- */
          .grid-container {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              grid-template-rows: repeat(4, 1fr);
              gap: 8px;
              aspect-ratio: 1 / 1;
              max-width: 500px; 
              width: 100%; 
              padding: 0.5rem;
              border-radius: 1rem;
              border: 8px solid;
              transition: all 500ms;
              box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
          }

          /* Default Grid Border (Active) */
          .grid-default-border {
            background-color: #1e1b4b; /* Dark indigo background */
            border-color: #8b5cf6; /* Stronger purple border */
            box-shadow: 0 0 15px #8b5cf6, 0 0 5px #a78bfa; /* Clear purple glow */
          }
          
          /* State-specific Grid Borders */
          .grid-border-deactivated {
              background-color: #166534; /* Dark green background */
              border-color: #4ade80; /* Bright Green border for victory */
              box-shadow: 0 0 30px #4ade80, 0 0 10px #86efac;
          }

          .grid-border-flashing {
              border-color: #f87171; /* Bright red border */
              background-color: #7f1d1d; /* Dark red background */
              box-shadow: 0 0 30px #f87171;
              animation: grid-flash 0.5s infinite alternate;
          }
          @keyframes grid-flash {
              from { opacity: 1; }
              to { opacity: 0.8; }
          }

          /* Tile base appearance */
          .tile-button {
              width: 100%; 
              height: 100%; 
              padding: 1rem;
              font-weight: 800;
              font-size: 1.5rem;
              transition: all 150ms ease-in-out;
              border-radius: 0.75rem; 
              border: 4px solid;
              box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); /* Stronger tile shadow */
          }
          .tile-label {
            font-size: 2.25rem;
            font-family: serif;
          }

          .tile-default {
              /* Default dark purple/indigo look */
              background-color: #312e81; 
              border-color: #a78bfa; /* Lighter border to contrast dark background */
              color: #ffffff;
          }
          
          .tile-empty {
            padding: 1rem; 
            border: 2px solid transparent;
          }

          /* Active Tile Interaction */
          .tile-active {
            cursor: pointer;
          }
          .tile-active:hover {
              transform: scale(1.05);
              box-shadow: 0 0 20px #e9d5ff, 0 5px 20px rgba(0, 0, 0, 0.8);
          }
          .tile-active:active {
              transform: scale(0.95);
          }
          
          /* Disabled Tile Interaction */
          .tile-disabled {
            cursor: not-allowed;
            opacity: 0.6; /* Reduced opacity for clear disabled state */
          }

          /* Solved LUST Tile Appearance */
          .tile-solved {
              background-color: #d8b4fe !important;
              border-color: #a78bfa !important; /* Retain visible border */
              color: #312e81 !important; /* Text changes to dark indigo */
              box-shadow: 0 0 20px #d8b4fe, inset 0 0 8px #a855f7; /* Very strong glow */
              animation: solved-pulse 1.5s infinite alternate;
          }

          @keyframes solved-pulse {
              from { opacity: 0.9; transform: scale(1); }
              to { opacity: 1.0; transform: scale(1.03); }
          }
        
      